<!DOCTYPE html>
<html>
    <head>
        <title>Let's have a cut macron</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body onload="draw();">
        <h1>Hello World</h1>
        <h2>Photomaton</h2>
        <div>
            <img src="img/macron.jpg" alt="macron not found">
        </div>
        <!-- Photomaton test canva -->
        <canvas width="512" height="512" id="photomaton"></canvas>
        <input onchange="draw();" id="sizeInput" type="number" min="1">
        <button onclick="draw();">Calc change</button>
    </body>
    <script src="js/script.js"></script>
    <script>
        function draw() {
            var ctx = document.getElementById('photomaton').getContext('2d');
            var img = new Image();
            img.src = 'img/MonaLisa.jpg';
            img.onload = function() {
                let size = Math.pow(2, document.getElementById("sizeInput").value-1);
                let width = 512/size;
                for (var i = 0; i < size; i++) {
                    for (var j = 0; j < size; j++) {
                        ctx.drawImage(img, j * width, i * width, width, width);
                    }
                }
                console.log("Done");
            };
        }

        
    </script>
</html>